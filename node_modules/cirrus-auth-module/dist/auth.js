'use strict';

var auth = void 0;

var authenticate = function authenticate(router) {
  switch (process.env.AUTH_TYPE) {
    case 'sf':
      console.log('Using Salesforce authentication flow.');
      auth = require('cirrus-sf-auth-module');
      auth.authenticate(router);
      break;
    case 'ping':
      console.log('Using Ping authentication flow.');
      auth = require('cirrus-ping-auth-module');
      auth.authenticate(router);
      break;
    case 'openid':
      console.log('Using open id connect flow.');
      auth = require('cirrus-oidc-auth-module');
      auth.authenticate(router);
      break;
    default:
      console.log('[AUTH] : AUTH_TYPE environment variable has not been set!');
      console.log('[AUTH] : Your app is running without authentication.');
  }
};

module.exports = {
  authenticate: authenticate
};